import{_ as E}from"./EMJ3jXYp.js";import{d as A,i as y,j as C,k as F,o as f,c as V,e as t,g,t as w,p as I,v as O,b as z,s as L,h,w as a,f as k,a as b,m as M,_ as S,A as H,F as J,y as K}from"./DVShB6SZ.js";import{_ as N}from"./Dfu3rjJP.js";import{u as U,_ as Q,a as R}from"./DDI7PsnV.js";import{_ as W}from"./DVZ6A1wL.js";import{_ as q}from"./Wg_0Ia0p.js";import{_ as D}from"./DwR9uBmS.js";import{u as T}from"./WHsaIq4b.js";import{u as X}from"./DUd0sDly.js";import{_ as Y}from"./CkOpHRb1.js";import{_ as Z}from"./BUzgZXDy.js";const ee={class:"range"},te=A({__name:"index",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(r,{emit:l}){const i=r,u=l,n=y([...i.modelValue]),o=y([...i.modelValue]),p=()=>{n.value=[...o.value],u("update:modelValue",o.value)};return C(()=>n.value,m=>{o.value=[...m],console.log(m,"new"),u("update:modelValue",m)}),C(()=>i.modelValue,m=>{o.value=[...m]}),(m,c)=>{const d=W,e=N,_=F("v-range-slider");return f(),V("div",ee,[t(d,{modelValue:o.value[0],"onUpdate:modelValue":c[0]||(c[0]=s=>o.value[0]=s),label:"От",onInput:p},null,8,["modelValue"]),t(d,{modelValue:o.value[1],"onUpdate:modelValue":c[1]||(c[1]=s=>o.value[1]=s),label:"До",onInput:p},null,8,["modelValue"]),t(e),g(" "+w(n.value)+" ",1),t(_,{modelValue:n.value,"onUpdate:modelValue":c[2]||(c[2]=s=>n.value=s),max:1e3,step:"1","thumb-label":"always"},null,8,["modelValue"])])}}}),oe=I(te,[["__scopeId","data-v-27c1bebf"]]),ne=O("category",{state:()=>({categoryList:null,pending:!1,error:null}),actions:{async fetch(){const{get:r}=X();this.pending=!0,this.error=null;try{const l=await r("/category");this.categoryList=l}catch(l){this.error=l.message,console.error("Failed to create data:",l)}finally{this.pending=!1}}}}),ae={key:0},le={class:"filter__top"},se={key:0},re={class:"filter__top"},ie={key:0},ue={class:"filter__top"},de=A({__name:"index",setup(r){const l=y([]),i=y([10,500]),u=y("id desc"),{isMobile:n}=U(),o=T(),p=ne(),m=z(()=>{let d=[];return p.categoryList&&(d=p.categoryList.data.map(e=>({id:e.id,title:e.name}))),d}),c=[{id:1,title:"qwer1"},{id:2,title:"qwer2"},{id:3,title:"qwer3"},{id:4,title:"qwer4"}];return L(async()=>{await p.fetch()}),C([l,i,u],([d,e,_])=>{o.updateFilter("categories",d),o.updateFilter("price_max",e[1]),o.updateFilter("price_min",e[0]),o.updateFilter("sort",_)}),(d,e)=>{const _=S,s=H,v=N,x=Q,$=R,B=oe,G=q,j=D;return f(),h(j,null,{default:a(()=>[t($,null,{trigger:a(()=>[t(_,{variant:"secondary",size:"xs"},{default:a(()=>e[3]||(e[3]=[g(" Категория ")])),_:1})]),default:a(()=>[k(n)?(f(),V("div",ae,[b("div",le,[t(s,{variant:"different",size:"lg"},{default:a(()=>e[4]||(e[4]=[g(" Категории ")])),_:1})]),t(v)])):M("",!0),t(x,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=P=>l.value=P),items:m.value,checkbox:!0},null,8,["modelValue","items"])]),_:1}),t($,null,{trigger:a(()=>[t(_,{variant:"secondary",size:"xs"},{default:a(()=>e[5]||(e[5]=[g(" Цена ")])),_:1})]),default:a(()=>[k(n)?(f(),V("div",se,[b("div",re,[t(s,{variant:"different",size:"lg"},{default:a(()=>e[6]||(e[6]=[g(" Цена ")])),_:1})]),t(v)])):M("",!0),t(B,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=P=>i.value=P)},null,8,["modelValue"])]),_:1}),t($,null,{trigger:a(()=>[t(_,{variant:"secondary",size:"xs"},{default:a(()=>[e[7]||(e[7]=g(" Сортировать ")),t(G,{icon:"sort"})]),_:1})]),default:a(()=>[k(n)?(f(),V("div",ie,[b("div",ue,[t(s,{variant:"different",size:"lg"},{default:a(()=>e[8]||(e[8]=[g(" Сортировать ")])),_:1})]),t(v)])):M("",!0),t(x,{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=P=>u.value=P),items:c,radio:!0},null,8,["modelValue"])]),_:1})]),_:1})}}}),_e=I(de,[["__scopeId","data-v-5f23c33b"]]),me={class:"pt-[80px]"},ce={class:"flex-between h-[64px]"},pe={class:"pagination__text"},ge=A({__name:"index",props:{variant:{type:String,default:"primary"},page:{type:Number,default:0},pageCount:{type:Number,default:0},modelValue:{type:Number,required:!0}},emits:["update:modelValue","nextPage","prevPage"],setup(r,{emit:l}){const{isMobile:i}=U(),u=r,n=l,o=()=>{n("nextPage"),u.modelValue<u.pageCount&&n("update:modelValue",u.modelValue+1)},p=()=>{n("prevPage"),u.modelValue>1&&n("update:modelValue",u.modelValue-1)};return(m,c)=>{const d=N,e=q,_=S,s=D;return f(),V("div",me,[t(d),b("div",ce,[b("p",pe,"Страница "+w(r.page)+" из "+w(r.pageCount),1),t(s,{class:"gap-3"},{default:a(()=>[t(_,{size:"sm",variant:"secondary",onClick:p,disabled:r.page===1},{default:a(()=>[t(e,{icon:"arrow-left"}),g(" "+w(k(i)?"":"Назад"),1)]),_:1},8,["disabled"]),t(_,{size:"sm",variant:"secondary",onClick:o,disabled:r.page>=r.pageCount},{default:a(()=>[g(w(k(i)?"":"Вперед")+" ",1),t(e,{icon:"arrow-right"})]),_:1},8,["disabled"])]),_:1})])])}}}),fe={class:"flex-column gap-6"},ve={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-[64px] gap-x-[92px]"},Me=A({__name:"index",props:{title:{type:String,default:""},subtitle:{type:String,default:""}},setup(r){const l=T(),i=y(1),u=z(()=>{let n=[];for(let o=1;o<12;o++)n.push({id:o,title:"Өнім атауы",price:"20 000 т",text:"Небольшое описание про товар или категория"});return n});return C(i,n=>{l.updateFilter("page",n)}),L(async()=>{console.log("filter",l.filters),await l.fetch()}),(n,o)=>{const p=E,m=_e,c=Y,d=Z,e=ge,_=F("v-data-iterator");return f(),V("div",fe,[t(p,{title:r.title,subtitle:r.subtitle},null,8,["title","subtitle"]),t(m),t(_,{items:u.value,"items-per-page":6},{default:a(({items:s})=>[b("div",ve,[(f(!0),V(J,null,K(s,(v,x)=>(f(),h(d,{key:x,to:`/product/${x}`,class:"nav-link"},{default:a(()=>[t(c,{item:v.raw},null,8,["item"])]),_:2},1032,["to"]))),128))])]),footer:a(({page:s,pageCount:v,prevPage:x,nextPage:$})=>[t(e,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=B=>i.value=B),page:s,pageCount:v,onPrevPage:x,onNextPage:$},null,8,["modelValue","page","pageCount","onPrevPage","onNextPage"])]),_:1},8,["items"])])}}});export{Me as _};
