import{v as p,x as u,p as c,o as s,c as i,e as n,d as m,a,l as h,h as f,m as g}from"./DVShB6SZ.js";import{u as r}from"./DUd0sDly.js";import{_ as x,a as v}from"./CxKp_Gs2.js";import{_ as y}from"./EMJ3jXYp.js";const{setToken:b}=u(),T=p("auth",{state:()=>({otpData:null,loginData:null,phone:null,name:null,pending:!1,error:null}),actions:{async otp(t){const{post:o}=r();this.pending=!0,this.error=null;try{const e=await o("/user/verification",t);this.otpData=e,this.phone=t.phone,t.name&&(this.name=t.name)}catch(e){this.error=e.message,console.error("Failed to create data:",e)}finally{this.pending=!1}},async login(t){const{post:o}=r();this.pending=!0,this.error=null,new FormData;try{const e=await o("/user/login",{phone:this.phone,code:t.code});this.loginData=e,b(this.loginData.data.token,this.loginData.data.user)}catch(e){this.error=e.message,console.error("Failed to create data:",e)}finally{this.pending=!1}}}}),w={},D={class:"onboarding"};function k(t,o){const e=y;return s(),i("div",D,[n(e,{title:"“Мы много трудились, чтобы дать вам уникальный продукт, первый в Казахстане сайт-конструктор мебели. Начните превращать ваши идеи в реальность”",variant:"secondary"}),n(e,{title:"Имя Фамилия основателя",subtitle:"Основатель компании ИП “Туран”",variant:"secondary",size:"xs"})])}const A=c(w,[["render",k],["__scopeId","data-v-c19e3f7b"]]),B={class:"auth flex-between"},$={class:"auth__left"},C={class:"w-full md:max-w-[360px]"},F=m({__name:"index",props:{onboarding:{type:Boolean,default:!1}},setup(t){return(o,e)=>{const _=x,l=v,d=A;return s(),i("div",B,[a("div",$,[n(_,{class:"w-full"}),a("div",C,[h(o.$slots,"default",{},void 0,!0)]),n(l)]),t.onboarding?(s(),f(d,{key:0})):g("",!0)])}}}),z=c(F,[["__scopeId","data-v-e8f9ed1d"]]);export{z as _,T as u};
