import{_ as k}from"./EMJ3jXYp.js";import{_ as B}from"./Ds5TFkJA.js";import{d as l,r as v,u as V,b as A,o as m,c as C,e as n,w as s,f as $,g as w,a as _,_ as z,h as N}from"./DVShB6SZ.js";import{_ as T}from"./OsUdAg49.js";import{p as D}from"./ppnCq1Tt.js";import{u as M,_ as j}from"./BDe4hmf0.js";import"./OxPLOBIU.js";import"./Dfu3rjJP.js";import"./DUd0sDly.js";import"./CxKp_Gs2.js";import"./BUzgZXDy.js";const y={class:"auth-login"},E={class:"auth-login__control"},F=l({__name:"index",setup(c){const t=v({phone:""}),{error:p,touch:a}=D(),e=M(),d=V(),u=A(()=>p(t.phone)),h=async function(){if(a(),!t.phone||u.value)return;const r=t.phone.split(" ").join("");await e.otp({phone:`7${r}`}),e.otpData.success&&(d.push("/auth/otp"),alert(e.otpData.data))};return(r,o)=>{const f=k,g=B,x=z,b=T;return m(),C("div",y,[n(f,{title:"Вход",subtitle:"Удобный доступ к информации о прошлых покупках и статусу текущих заказов",size:"xs"}),n(b,{size:"lg"},{bottom:s(()=>[n(x,{disabled:!t.phone,onClick:h,loading:$(e).pending,block:""},{default:s(()=>o[2]||(o[2]=[w(" Вход ")])),_:1},8,["disabled","loading"])]),default:s(()=>[n(g,{maska:"### ### ## ##",modelValue:t.phone,"onUpdate:modelValue":o[0]||(o[0]=i=>t.phone=i),label:"Номер телефона",placeholder:"+7 (###) ### ## ##",size:"xs",error:u.value},null,8,["modelValue","error"])]),_:1}),_("div",E,[o[3]||(o[3]=_("p",{class:"auth-login__text"},"У вас еще нет аккаунта?",-1)),_("p",{class:"auth-login__link",onClick:o[1]||(o[1]=i=>r.$router.push("/auth/register"))}," Создать аккаунт ")])])}}}),P=l({__name:"login",setup(c){return(t,p)=>{const a=F,e=j;return m(),N(e,{onboarding:""},{default:s(()=>[n(a)]),_:1})}}});export{P as default};
