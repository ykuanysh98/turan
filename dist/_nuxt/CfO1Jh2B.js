import{_ as V}from"./EMJ3jXYp.js";import{_ as B}from"./DVZ6A1wL.js";import{_ as v}from"./Ds5TFkJA.js";import{d as l,r as A,u as $,b as C,o as i,c as w,e as n,w as a,f as N,g as T,a as _,_ as z,h as D}from"./DVShB6SZ.js";import{_ as M}from"./OsUdAg49.js";import{p as R}from"./ppnCq1Tt.js";import{u as U,_ as j}from"./BDe4hmf0.js";import"./Wg_0Ia0p.js";import"./OxPLOBIU.js";import"./Dfu3rjJP.js";import"./DUd0sDly.js";import"./CxKp_Gs2.js";import"./BUzgZXDy.js";const y={class:"auth-register"},E={class:"auth-register__control"},F=l({__name:"index",setup(c){const o=A({name:"",phone:""}),{error:m,touch:r}=R(),e=U(),d=$(),u=C(()=>m(o.phone)),h=async function(){if(r(),!o.phone||u.value)return;const p=o.phone.split(" ").join("");await e.otp({phone:`7${p}`,name:o.name}),e.otpData.success&&(d.push("/auth/otp"),alert(e.otpData.data))};return(p,t)=>{const f=V,g=B,x=v,b=z,k=M;return i(),w("div",y,[n(f,{title:"Регистрация",subtitle:"Зарегистрированные пользователи первыми узнают о распродажах, акциях и специальных предложениях",size:"xs"}),n(k,{size:"lg"},{bottom:a(()=>[n(b,{disabled:!o.name||!o.phone,loading:N(e).pending,onClick:h,block:""},{default:a(()=>t[3]||(t[3]=[T(" Создать аккаунт ")])),_:1},8,["disabled","loading"])]),default:a(()=>[n(g,{modelValue:o.name,"onUpdate:modelValue":t[0]||(t[0]=s=>o.name=s),label:"Имя",placeholder:"Введите ваше имя"},null,8,["modelValue"]),n(x,{maska:"### ### ## ##",modelValue:o.phone,"onUpdate:modelValue":t[1]||(t[1]=s=>o.phone=s),label:"Номер телефона",placeholder:"+7 (###) ### ## ##",error:u.value},null,8,["modelValue","error"])]),_:1}),_("div",E,[t[4]||(t[4]=_("p",{class:"auth-register__text"},"У вас уже есть аккаунт?",-1)),_("p",{class:"auth-register__link",onClick:t[2]||(t[2]=s=>p.$router.push("/auth/login"))}," Войти в аккаунт ")])])}}}),Y=l({__name:"register",setup(c){return(o,m)=>{const r=F,e=j;return i(),D(e,{onboarding:""},{default:a(()=>[n(r)]),_:1})}}});export{Y as default};
